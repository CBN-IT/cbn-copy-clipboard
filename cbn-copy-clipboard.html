<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="cbn-copy-clipboard-behavior.html">

<dom-module id="cbn-copy-clipboard">
	<style>
	</style>
	<template>
		<div on-click="copy">
			<content id="content"></content>
		</div>
	</template>
	<script>
		Polymer({
			is: 'cbn-copy-clipboard',
			properties:{
				value:{
					type:String,
					value:""
				}	
			},
			behaviors:[Cbn.CopyClipboard],
			copy: function () {
				//this function call must come from an event like click
				if (this.value != null && this.value != '') {
					this.copyTextToClipboard(this.value);
				} else {
					var c = '';
					var distributedNodes = Polymer.dom(this.$.content).getDistributedNodes();
					for (var i = 0; i < distributedNodes.length; ++i) {
						var el = distributedNodes[i];
						if (el.nodeType == 3) {
							c += el.nodeValue;
						} else {
							c += el.innerText;
						}
					}
					this.copyTextToClipboard(c);
				}
			}
		});
	</script>
</dom-module>
  
